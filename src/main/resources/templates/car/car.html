<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout1}">

<th:block layout:fragment="css">
	<style>
	</style>
</th:block>

<div  layout:fragment="content">

	<section class="hero-wrap hero-wrap-2 js-fullheight"
		style="background-image: url('/images/bg_3.jpg');"
		data-stellar-background-ratio="0.5">
		<div class="overlay"></div>
		<div class="container">
			<div
				class="row no-gutters slider-text js-fullheight align-items-end justify-content-start">
				<div class="col-md-9 ftco-animate pb-5">
					<p class="breadcrumbs">
						<span class="mr-2"><a href="/">Home <i
								class="ion-ios-arrow-forward"></i></a></span> <span>Cars <i
							class="ion-ios-arrow-forward"></i></span>
					</p>
					<h1 class="mb-3 bread">등록된 차량</h1>
				</div>
			</div>
		</div>
	</section>


	<section class="ftco-section bg-light" >
		<div class="container">
			<div class="row">
				<th:block  th:each="car, status: ${cars.getContent()}" action = "car/car" method="get" >
					<div class="col-md-4">
						<div class="car-wrap rounded ftco-animate">
							<div class="img rounded d-flex align-items-end">
								<img th:src=${car.carImgUrl} th:alt=${car.carName}
									class="img-fluid">
							</div>
							<div class="text">
								<h2 class="mb-0">
									<a href="car-single.html">[[${car.carName}]]</a>
								</h2>
								<div class="d-flex mb-3">
									<span class="cat">Cheverolet</span>
									<p class="price ml-auto">
										[[${$car.carPrice}]]원
										<span>/1시간</span>
									</p>
								</div>
								<p class="d-flex mb-0 d-block">
									<a th:href="/car/carlent" class="btn btn-primary py-2 mr-1">예약하기</a>
									<a href="/cardatail" class="btn btn-secondary py-2 ml-1">차량상세설명</a>
								</p>
							</div>
						</div>
					</div>
			</div>
				</th:block>

			<div class="row mt-5">
				<div class="col text-center">
					<nav
						th:with="start=${(cars.number/maxPage)*maxPage + 1}
			                 ,end=(${(cars.totalPages == 0) ? 1 : (start + (maxPage - 1) < cars.totalPages ? start + (maxPage - 1) : cars.totalPages)})"
						aria-label="Page navigation example">
						<ul class="pagination d-flex justify-content-center">
							<li class="page-item" th:classappend="${cars.first}?'disabled'">
								<a class="page-link"
								th:href="@{'/car/caritem' + '?searchQuery=' + ${carSearchDto.searchQuery} 
									                               + '&page=' + ${cars.number - 1}}">이전</a>
							</li>

							<li class="page-car"
								th:each="page: ${#numbers.sequence(start, end)}"
								th:classappend="${cars.number eq page-1}?'active':''"><a
								class="page-link" th:inline="text"
								th:href="@{'/car/caritem' + '?searchQuery=' + ${carSearchDto.searchQuery} 
									                               + '&page=' + ${page - 1}}">[[${page}]]</a>
							</li>

							<li class="page-item" th:classappend="${cars.last}?'disabled'">
								<a class="page-link"
								th:href="@{'/car/caritem' + '?searchQuery=' + ${carSearchDto.searchQuery} 
									                               + '&page=' + ${cars.number + 1}}">다음</a>
							</li>
						</ul>
					</nav>
				</div>
			</div>
		</div>
	</section>

</div>

</html>